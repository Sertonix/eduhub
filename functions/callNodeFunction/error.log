error: Failed to save certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object. Received undefined
error: Failed to generate or save achievement certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object. Received undefined
error: The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object. Received undefined {"code":"ERR_INVALID_ARG_TYPE","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object. Received undefined\n    at new NodeError (node:internal/errors:399:5)\n    at Function.from (node:buffer:339:9)\n    at Object.saveToBucket (/functions/lib/cloud-storage.js:34:18)\n    at async saveCertificateToBucket (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:31:18)\n    at async generateAchievementCertificate (file:///functions/callNodeFunction/createCertificate/generateAchievementCertificate.js:61:18)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object. Received undefined {"code":"ERR_INVALID_ARG_TYPE","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object. Received undefined\n    at new NodeError (node:internal/errors:399:5)\n    at Function.from (node:buffer:339:9)\n    at Object.saveToBucket (/functions/lib/cloud-storage.js:34:18)\n    at async saveCertificateToBucket (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:31:18)\n    at async generateAchievementCertificate (file:///functions/callNodeFunction/createCertificate/generateAchievementCertificate.js:61:18)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Failed to save certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object. Received undefined
error: Failed to generate or save achievement certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object. Received undefined
error: The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object. Received undefined {"code":"ERR_INVALID_ARG_TYPE","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object. Received undefined\n    at new NodeError (node:internal/errors:399:5)\n    at Function.from (node:buffer:339:9)\n    at Object.saveToBucket (/functions/lib/cloud-storage.js:34:18)\n    at async saveCertificateToBucket (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:31:18)\n    at async generateAchievementCertificate (file:///functions/callNodeFunction/createCertificate/generateAchievementCertificate.js:61:18)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object. Received undefined {"code":"ERR_INVALID_ARG_TYPE","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object. Received undefined\n    at new NodeError (node:internal/errors:399:5)\n    at Function.from (node:buffer:339:9)\n    at Object.saveToBucket (/functions/lib/cloud-storage.js:34:18)\n    at async saveCertificateToBucket (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:31:18)\n    at async generateAchievementCertificate (file:///functions/callNodeFunction/createCertificate/generateAchievementCertificate.js:61:18)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Failed to generate or save attendance certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: ReferenceError: updateCourseEnrollmentRecord is not defined
error: updateCourseEnrollmentRecord is not defined {"stack":"ReferenceError: updateCourseEnrollmentRecord is not defined\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:47:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: updateCourseEnrollmentRecord is not defined {"stack":"ReferenceError: updateCourseEnrollmentRecord is not defined\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:47:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Failed to generate or save attendance certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError: Cannot read properties of undefined (reading 'document')
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:68:9)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:50:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:68:9)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:50:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Failed to generate or save attendance certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError: Cannot read properties of undefined (reading 'document')
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:68:9)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:50:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:68:9)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:50:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Failed to generate or save achievement certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError: Cannot read properties of undefined (reading 'document')
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:68:9)\n    at generateAchievementCertificate (file:///functions/callNodeFunction/createCertificate/generateAchievementCertificate.js:73:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:68:9)\n    at generateAchievementCertificate (file:///functions/callNodeFunction/createCertificate/generateAchievementCertificate.js:73:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Failed to generate or save attendance certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError: Cannot read properties of undefined (reading 'document')
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:68:9)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:50:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:68:9)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:50:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Failed to generate or save attendance certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError: Cannot read properties of undefined (reading 'document')
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:68:9)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:56:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:68:9)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:56:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Failed to generate or save attendance certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError: Cannot read properties of undefined (reading 'document')
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:68:9)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:68:9)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Failed to generate or save attendance certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError: Cannot read properties of undefined (reading 'document')
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:69:11)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:69:11)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Failed to generate or save attendance certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError: Cannot read properties of undefined (reading 'document')
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:69:11)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:69:11)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Failed to generate or save attendance certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError: Cannot read properties of undefined (reading 'document')
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:69:11)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:69:11)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Failed to generate or save attendance certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError: Cannot read properties of undefined (reading 'document')
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:69:11)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:69:11)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Error updating course enrollment record: TypeError: Cannot read properties of undefined (reading 'document')
error: Failed to generate or save attendance certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3: TypeError: Cannot read properties of undefined (reading 'document')
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:70:11)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:70:11)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Error updating course enrollment record: TypeError: Cannot read properties of undefined (reading 'document')
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:70:11)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:70:11)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Error updating course enrollment record with id undefined, field attendanceCertificateURL, and value http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf: TypeError: Cannot read properties of undefined (reading 'document')
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:69:11)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Cannot read properties of undefined (reading 'document') {"stack":"TypeError: Cannot read properties of undefined (reading 'document')\n    at parseRequestExtendedArgs (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/parseArgs.js:32:25)\n    at request (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:301:28)\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:69:11)\n    at generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:11)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: id is not defined {"stack":"ReferenceError: id is not defined\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:84:58)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async generateAchievementCertificate (file:///functions/callNodeFunction/createCertificate/generateAchievementCertificate.js:73:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: id is not defined {"stack":"ReferenceError: id is not defined\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:84:58)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async generateAchievementCertificate (file:///functions/callNodeFunction/createCertificate/generateAchievementCertificate.js:73:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: id is not defined {"stack":"ReferenceError: id is not defined\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:84:58)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: id is not defined {"stack":"ReferenceError: id is not defined\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:84:58)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: id is not defined {"stack":"ReferenceError: id is not defined\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:84:58)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: id is not defined {"stack":"ReferenceError: id is not defined\n    at updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:84:58)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Error updating course enrollment record for user undefined and course 3 with field attendanceCertificateURL and value http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf: Error: expecting a value for non-nullable variable: "userId": {"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"userId\""}],"status":200,"headers":{}},"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"courseId":3,"value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}}}
error: expecting a value for non-nullable variable: "userId": {"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"userId\""}],"status":200,"headers":{}},"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"courseId":3,"value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}}} {"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"courseId":3,"value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}},"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"userId\""}],"headers":{},"status":200},"stack":"Error: expecting a value for non-nullable variable: \"userId\": {\"response\":{\"errors\":[{\"extensions\":{\"code\":\"validation-failed\",\"path\":\"$\"},\"message\":\"expecting a value for non-nullable variable: \\\"userId\\\"\"}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"\\n      mutation UpdateEnrollment(\\n        $userId: uuid!\\n        $courseId: Int!\\n        $certificateURL: String!\\n      ) {\\n        update_CourseEnrollment(\\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\\n          _set: { attendanceCertificateURL: $value }\\n        ) {\\n          affected_rows\\n        }\\n      }\\n    \",\"variables\":{\"courseId\":3,\"value\":\"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf\"}}}\n    at makeRequest (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:282:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:79:5)\n    at async generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: expecting a value for non-nullable variable: "userId": {"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"userId\""}],"status":200,"headers":{}},"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"courseId":3,"value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}}} {"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"courseId":3,"value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}},"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"userId\""}],"headers":{},"status":200},"stack":"Error: expecting a value for non-nullable variable: \"userId\": {\"response\":{\"errors\":[{\"extensions\":{\"code\":\"validation-failed\",\"path\":\"$\"},\"message\":\"expecting a value for non-nullable variable: \\\"userId\\\"\"}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"\\n      mutation UpdateEnrollment(\\n        $userId: uuid!\\n        $courseId: Int!\\n        $certificateURL: String!\\n      ) {\\n        update_CourseEnrollment(\\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\\n          _set: { attendanceCertificateURL: $value }\\n        ) {\\n          affected_rows\\n        }\\n      }\\n    \",\"variables\":{\"courseId\":3,\"value\":\"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf\"}}}\n    at makeRequest (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:282:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:79:5)\n    at async generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Error updating course enrollment record for user undefined and course 3 with field attendanceCertificateURL and value http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf
error: expecting a value for non-nullable variable: "userId": {"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"userId\""}],"status":200,"headers":{}},"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"courseId":3,"value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}}} {"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"courseId":3,"value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}},"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"userId\""}],"headers":{},"status":200},"stack":"Error: expecting a value for non-nullable variable: \"userId\": {\"response\":{\"errors\":[{\"extensions\":{\"code\":\"validation-failed\",\"path\":\"$\"},\"message\":\"expecting a value for non-nullable variable: \\\"userId\\\"\"}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"\\n      mutation UpdateEnrollment(\\n        $userId: uuid!\\n        $courseId: Int!\\n        $certificateURL: String!\\n      ) {\\n        update_CourseEnrollment(\\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\\n          _set: { attendanceCertificateURL: $value }\\n        ) {\\n          affected_rows\\n        }\\n      }\\n    \",\"variables\":{\"courseId\":3,\"value\":\"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf\"}}}\n    at makeRequest (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:282:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:79:5)\n    at async generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Error updating course enrollment record for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3 with field attendanceCertificateURL and value http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf
error: Failed to generate or save attendance certificate for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3
error: expecting a value for non-nullable variable: "certificateURL": {"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"certificateURL\""}],"status":200,"headers":{}},"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"userId":"152f12c3-f7d2-4b73-8d29-603c164b0139","courseId":3,"value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}}} {"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"courseId":3,"userId":"152f12c3-f7d2-4b73-8d29-603c164b0139","value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}},"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"certificateURL\""}],"headers":{},"status":200},"stack":"Error: expecting a value for non-nullable variable: \"certificateURL\": {\"response\":{\"errors\":[{\"extensions\":{\"code\":\"validation-failed\",\"path\":\"$\"},\"message\":\"expecting a value for non-nullable variable: \\\"certificateURL\\\"\"}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"\\n      mutation UpdateEnrollment(\\n        $userId: uuid!\\n        $courseId: Int!\\n        $certificateURL: String!\\n      ) {\\n        update_CourseEnrollment(\\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\\n          _set: { attendanceCertificateURL: $value }\\n        ) {\\n          affected_rows\\n        }\\n      }\\n    \",\"variables\":{\"userId\":\"152f12c3-f7d2-4b73-8d29-603c164b0139\",\"courseId\":3,\"value\":\"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf\"}}}\n    at makeRequest (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:282:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:79:5)\n    at async generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Error updating course enrollment record for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3 with field attendanceCertificateURL and value http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf
error: expecting a value for non-nullable variable: "certificateURL": {"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"certificateURL\""}],"status":200,"headers":{}},"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"userId":"152f12c3-f7d2-4b73-8d29-603c164b0139","courseId":3,"value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}}} {"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"courseId":3,"userId":"152f12c3-f7d2-4b73-8d29-603c164b0139","value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}},"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"certificateURL\""}],"headers":{},"status":200},"stack":"Error: expecting a value for non-nullable variable: \"certificateURL\": {\"response\":{\"errors\":[{\"extensions\":{\"code\":\"validation-failed\",\"path\":\"$\"},\"message\":\"expecting a value for non-nullable variable: \\\"certificateURL\\\"\"}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"\\n      mutation UpdateEnrollment(\\n        $userId: uuid!\\n        $courseId: Int!\\n        $certificateURL: String!\\n      ) {\\n        update_CourseEnrollment(\\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\\n          _set: { attendanceCertificateURL: $value }\\n        ) {\\n          affected_rows\\n        }\\n      }\\n    \",\"variables\":{\"userId\":\"152f12c3-f7d2-4b73-8d29-603c164b0139\",\"courseId\":3,\"value\":\"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf\"}}}\n    at makeRequest (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:282:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:79:5)\n    at async generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Error updating course enrollment record for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3 with field attendanceCertificateURL and value http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf
error: expecting a value for non-nullable variable: "certificateURL": {"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"certificateURL\""}],"status":200,"headers":{}},"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"userId":"152f12c3-f7d2-4b73-8d29-603c164b0139","courseId":3,"value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}}} {"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"courseId":3,"userId":"152f12c3-f7d2-4b73-8d29-603c164b0139","value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}},"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"certificateURL\""}],"headers":{},"status":200},"stack":"Error: expecting a value for non-nullable variable: \"certificateURL\": {\"response\":{\"errors\":[{\"extensions\":{\"code\":\"validation-failed\",\"path\":\"$\"},\"message\":\"expecting a value for non-nullable variable: \\\"certificateURL\\\"\"}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"\\n      mutation UpdateEnrollment(\\n        $userId: uuid!\\n        $courseId: Int!\\n        $certificateURL: String!\\n      ) {\\n        update_CourseEnrollment(\\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\\n          _set: { attendanceCertificateURL: $value }\\n        ) {\\n          affected_rows\\n        }\\n      }\\n    \",\"variables\":{\"userId\":\"152f12c3-f7d2-4b73-8d29-603c164b0139\",\"courseId\":3,\"value\":\"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf\"}}}\n    at makeRequest (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:282:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:83:5)\n    at async generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
error: Error updating course enrollment record for user 152f12c3-f7d2-4b73-8d29-603c164b0139 and course 3 with field attendanceCertificateURL and value http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf
error: expecting a value for non-nullable variable: "certificateURL": {"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"certificateURL\""}],"status":200,"headers":{}},"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"userId":"152f12c3-f7d2-4b73-8d29-603c164b0139","courseId":3,"value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}}} {"request":{"query":"\n      mutation UpdateEnrollment(\n        $userId: uuid!\n        $courseId: Int!\n        $certificateURL: String!\n      ) {\n        update_CourseEnrollment(\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\n          _set: { attendanceCertificateURL: $value }\n        ) {\n          affected_rows\n        }\n      }\n    ","variables":{"courseId":3,"userId":"152f12c3-f7d2-4b73-8d29-603c164b0139","value":"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf"}},"response":{"errors":[{"extensions":{"code":"validation-failed","path":"$"},"message":"expecting a value for non-nullable variable: \"certificateURL\""}],"headers":{},"status":200},"stack":"Error: expecting a value for non-nullable variable: \"certificateURL\": {\"response\":{\"errors\":[{\"extensions\":{\"code\":\"validation-failed\",\"path\":\"$\"},\"message\":\"expecting a value for non-nullable variable: \\\"certificateURL\\\"\"}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"\\n      mutation UpdateEnrollment(\\n        $userId: uuid!\\n        $courseId: Int!\\n        $certificateURL: String!\\n      ) {\\n        update_CourseEnrollment(\\n          where: { userId: { _eq: $userId }, courseId: { _eq: $courseId } }\\n          _set: { attendanceCertificateURL: $value }\\n        ) {\\n          affected_rows\\n        }\\n      }\\n    \",\"variables\":{\"userId\":\"152f12c3-f7d2-4b73-8d29-603c164b0139\",\"courseId\":3,\"value\":\"http://localhost:4001/emulated-bucket/userid_152f12c3-f7d2-4b73-8d29-603c164b0139/courseid_3/certificate_course_3.pdf\"}}}\n    at makeRequest (file:///functions/callNodeFunction/node_modules/graphql-request/build/esm/index.js:282:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateCourseEnrollmentRecord (file:///functions/callNodeFunction/createCertificate/certificateUtils.js:84:5)\n    at async generateAttendanceCertificate (file:///functions/callNodeFunction/createCertificate/generateAttendanceCertificate.js:53:5)\n    at async Promise.all (index 0)\n    at async createCertificate (file:///functions/callNodeFunction/createCertificate/index.js:42:5)\n    at async callNodeFunction (file:///functions/callNodeFunction/index.js:45:9)"}
